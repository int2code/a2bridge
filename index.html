
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
        <link rel="next" href="setup/">
      
      
        
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.3">
    
    
      
        <title>A2Bridge User Guide</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="layout.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#home" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="A2Bridge User Guide" class="md-header__button md-logo" aria-label="A2Bridge User Guide" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            A2Bridge User Guide
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Home
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="A2Bridge User Guide" class="md-nav__button md-logo" aria-label="A2Bridge User Guide" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    A2Bridge User Guide
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#device-overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Device overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#capabilities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Capabilities
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hardware-description" class="md-nav__link">
    <span class="md-ellipsis">
      
        Hardware description
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hardware description">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#device-status" class="md-nav__link">
    <span class="md-ellipsis">
      
        Device status
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Device status">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#led-1-a2bridge-status" class="md-nav__link">
    <span class="md-ellipsis">
      
        LED 1 - A2Bridge Status
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#led-2-not-used" class="md-nav__link">
    <span class="md-ellipsis">
      
        LED 2 not used
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#led-3-sdk-programmable" class="md-nav__link">
    <span class="md-ellipsis">
      
        LED 3 SDK programmable
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#led-4-power-delivery-state" class="md-nav__link">
    <span class="md-ellipsis">
      
        LED 4 Power Delivery state
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a2b-ports" class="md-nav__link">
    <span class="md-ellipsis">
      
        A2B Ports
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usb-ports" class="md-nav__link">
    <span class="md-ellipsis">
      
        USB Ports
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usb-communication" class="md-nav__link">
    <span class="md-ellipsis">
      
        USB Communication
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Setup
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="json/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    JSON configuration
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="serial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Serial COM port communication
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="dfu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Firmware Update
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#device-overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Device overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#capabilities" class="md-nav__link">
    <span class="md-ellipsis">
      
        Capabilities
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hardware-description" class="md-nav__link">
    <span class="md-ellipsis">
      
        Hardware description
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hardware description">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#device-status" class="md-nav__link">
    <span class="md-ellipsis">
      
        Device status
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Device status">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#led-1-a2bridge-status" class="md-nav__link">
    <span class="md-ellipsis">
      
        LED 1 - A2Bridge Status
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#led-2-not-used" class="md-nav__link">
    <span class="md-ellipsis">
      
        LED 2 not used
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#led-3-sdk-programmable" class="md-nav__link">
    <span class="md-ellipsis">
      
        LED 3 SDK programmable
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#led-4-power-delivery-state" class="md-nav__link">
    <span class="md-ellipsis">
      
        LED 4 Power Delivery state
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a2b-ports" class="md-nav__link">
    <span class="md-ellipsis">
      
        A2B Ports
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usb-ports" class="md-nav__link">
    <span class="md-ellipsis">
      
        USB Ports
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usb-communication" class="md-nav__link">
    <span class="md-ellipsis">
      
        USB Communication
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="home">Home</h1>
<p><img alt="image_alt" src="assets/a2bridge_logo.png" style="height:200px;width:200px" /></p>
<h2 id="device-overview">Device overview</h2>
<p>The A2Bridge is used to stream multichannel audio data via USB to or from A2B bus. 
It can be configured to be used either as an A2B master or slave.
A2Bridge is a tool which might be used by developers and testers to develop their A2B devices like amplifiers or microphones. </p>
<p><img alt="image_alt" src="assets/a2bridge_side.png" style="display:block; margin: 2rem auto; width: 60%;" /></p>
<h2 id="capabilities">Capabilities</h2>
<ol>
<li>
<p><strong>A2B Master device</strong> - 
The device supports an A2B master mode with a user-defined bus topology. It enables bidirectional communication across up to 32 audio channels, allowing seamless data exchange between USB and A2B interfaces.</p>
</li>
<li>
<p><strong>A2B Slave device</strong> - 
A2Bridge can be used in test environments where it is necessary to simulate an A2B sub-node.</p>
</li>
<li>
<p><strong>Control A2B transceivers and nodes with your PC</strong> -
With A2Bridge, users can develop and execute custom desktop-based test applications to configure the A2B transceiver and associated I²C peripherals. We provide a lightweight Python API that enables I²C-over-distance communication, allowing users to read from and write to peripheral I²C registers with ease.</p>
</li>
<li>
<p><strong>Support mailboxes</strong> - 
Developers can test device communication with the head unit using our A2B mailbox, with support provided through Python and Protobuf.</p>
</li>
</ol>
<h2 id="hardware-description">Hardware description</h2>
<p>The A2Bridge has:
- two USB-C ports, 
- four status LEDs, 
- and two A2B ports</p>
<h3 id="device-status">Device status</h3>
<p>There are 4 LEDs which signalize the current status of device.</p>
<h4 id="led-1-a2bridge-status">LED 1 - A2Bridge Status</h4>
<p><img alt="image_alt" src="assets/LEDs_images/a2bridge_LED1.png" style="display:block; margin: 2rem auto; width: 30%;" /><p style="text-align:center;"><em>LED_1</em> </p></p>
<table>
<thead>
<tr>
<th>status</th>
<th>LED color</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ERROR</code></td>
<td>RED</td>
<td>Device is in runtime unrecoverable error (ie. unexpected node drop).  <strong>Audio output is fully muted in that state.</strong></td>
</tr>
<tr>
<td><code>IMPAIRED</code></td>
<td>YELLOW</td>
<td>Device is in an impaired state (ie. not all configured slaves were discovered).  State can be recovered ie. by doing rediscovery of the bus via console.    <strong>Audio output is fully muted in that state.</strong></td>
</tr>
<tr>
<td><code>NORMAL</code></td>
<td>GREEN</td>
<td>The device is fully operational. The audio will be streamed between USB and A2B.</td>
</tr>
</tbody>
</table>
<h4 id="led-2-not-used">LED 2 not used</h4>
<p>LED 2 is currently not used - reserved for future use. </p>
<h4 id="led-3-sdk-programmable">LED 3 SDK programmable</h4>
<p>The LED 3 can be programmed in the SDK to indicate user application states. Please refer to SDK guide for more information. </p>
<h4 id="led-4-power-delivery-state">LED 4 Power Delivery state</h4>
<p><img alt="image_alt" src="assets/LEDs_images/a2bridge_LED4.png" style="display:block; margin: 2rem auto; width: 30%;" /><p style="text-align:center;"><em>LED_4</em> </p></p>
<table>
<thead>
<tr>
<th>status</th>
<th>LED color</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>DISCONNECTED</code></td>
<td>BLUE</td>
<td>No power supply is connected to USB PD port (Power connector)</td>
</tr>
<tr>
<td><code>NO MATCHING PDU</code></td>
<td>YELLOW</td>
<td>Power supply is connected but it can not provide the voltage configured with "SupplyVoltage" property in configuration file</td>
</tr>
<tr>
<td><code>NORMAL</code></td>
<td>GREEN</td>
<td>Power supply connected and provides the voltage configured with SupplyVoltage property</td>
</tr>
</tbody>
</table>
<h3 id="a2b-ports">A2B Ports</h3>
<p><img alt="image_alt" src="assets/a2bridge_A2B_ports.png" style="display:block; margin: 2rem auto; width: 50%;" /><p style="text-align:center;"><em>A2Bridge A2B ports</em> </p></p>
<p>For A2B bus communication there are 2 ports available:<br />
- <strong>A</strong> (A2B Master) - This is the port used for communication with previous A2B sub-node(towards main node). <em>Should be used only in the slave mode.</em>
- <strong>B</strong> (A2B Slave) - This port is used for communication with next A2B sub-node(towards next sub-node). <em>Can be used in both Master and Slave modes.</em></p>
<h3 id="usb-ports">USB Ports</h3>
<p><img alt="image_alt" src="assets/a2bridge_USB_ports.png" style="display:block; margin: 2rem auto; width: 60%;" /> <p style="text-align:center;"><em>A2Bridge USB ports</em> </p>
There are two USB ports:</p>
<ul>
<li>
<p><strong>Host PC</strong> port is used to communicate with Desktop, transmit or receive audio data and for updating A2Bridge firmware</p>
</li>
<li>
<p><strong>Power</strong> is used to supply phantom power over A2B. The connected power supply must support the USB Power Delivery (PD) protocol, and the user can configure the requested voltage using configuration file. You will have to use this port only if your A2B bus topology contains A2B bus powered slaves which need more power or higher voltage than can be delivered over Host PC connection. In that case you should connect this connector to the PD capable USB charger. </p>
</li>
</ul>
<h2 id="usb-communication">USB Communication</h2>
<p>After the device is successfully connected to the host PC it will be presented as 4 USB endpoints:<br />
- External audio device<br />
- Mass Storage Device<br />
- DFU - Device Firmware Update
- CDC - Virtual COM port </p>
<p><img src="./assets/image2.png"/></p>
<p>External audio device endpoints are used to transmit or receive audio data to/from A2Bridge.
Mass Storage Device install in host PC as a small drive, where the configuration json file is present and can be edited. 
The CDC - COM port is used for console command </p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": ".", "features": ["content.tabs.link", "user_color_mode_toggle"], "search": "assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>